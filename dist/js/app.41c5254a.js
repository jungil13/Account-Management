(function(){"use strict";var e={9506:function(e,l,a){var t=a(9242),n=a(3396),u=a(4870),o=a(2483),d=a(7718),m=a(3140),i={__name:"App",setup(e){return(e,l)=>((0,n.wg)(),(0,n.j4)(d.q,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m.O,null,{default:(0,n.w5)((()=>[((0,n.wg)(),(0,n.j4)((0,n.LL)(e.$route.meta.layout),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,u.SU)(o.MA))])),_:1}))])),_:1})])),_:1}))}};const r=i;var s=r,c=(a(9773),a(8753)),p=(0,c.Rd)();async function f(){const e=await a.e(461).then(a.t.bind(a,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}var _=a(7139),w=a(6750),v=a(1489),h=a(6572),g=a(1332),W=a(1888),y=a(3369),b=a(6824),k=a(8521),V=a(3289),U=a(8694),S=a(3144),D=a(9870),O=a(6161),T=a(4722),C={__name:"Announcements",setup(e){const l=(0,u.iH)(null),a=(0,u.iH)(null);return(0,n.bv)((()=>{let e=new FormData;e.append("method","getAllAnnouncements"),fetch("http://localhost/account-management-system-master/backend/index.php",{method:"POST",body:e}).then((e=>e.text())).then((e=>{a.value=JSON.parse(e)}))})),(e,t)=>((0,n.wg)(),(0,n.j4)(v._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(S.d,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),color:"deep-purple-accent-4","align-tabs":"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(D.L,{value:1},{default:(0,n.w5)((()=>[(0,n.Uk)("Announcements")])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(O.Oo,{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=e=>l.value=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(T.H,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y.K,{fluid:""},{default:(0,n.w5)((()=>[(0,n.Wm)(b.o,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.value,((e,l)=>((0,n.wg)(),(0,n.j4)(k.D,{key:e.id,cols:"12",md:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(v._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(U.f,{src:"https://picsum.photos/500/300?image="+(l*(l+2)*5+10),"lazy-src":"https://picsum.photos/10/6?image="+(l*(l+2)*5+10),cover:""},null,8,["src","lazy-src"]),(0,n.Wm)(h.E,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,_.zw)(e.title),1)])),_:2},1024),(0,n.Wm)(g.Q,null,{default:(0,n.w5)((()=>[(0,n.Wm)(V.t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-circle-medium")])),_:1}),(0,n.Uk)(" "+(0,_.zw)((0,u.SU)(w.Z)(new Date(e.created_at),"PPPP")),1)])),_:2},1024),(0,n.Wm)(W.Z,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,_.zw)(e.description),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}))}};const x=C;var H=x,j=(a(560),a(870)),A=a(1209),P=a(1334),z=a(6422),E=a(165);const q=(0,n._)("p",null,"Admin account",-1),L=(0,n._)("p",null,"email: admin@email.com",-1),N=(0,n._)("p",null,"pass: asdasd",-1);var F={__name:"Signin",setup(e){const l=(0,u.iH)(!1),a=(0,u.iH)(null),d=(0,o.tv)(),m=(0,u.iH)(!1),i=(0,u.iH)(!1),r=(0,u.iH)(""),s=(0,u.qj)({email:null,password:null});function c(){l.value=!0;let e=new FormData;e.append("method","signin"),e.append("email",s.email),e.append("password",s.password),fetch("http://localhost/account-management-system-master/backend/index.php",{method:"POST",body:e}).then((e=>e.text())).then((e=>{a.value=JSON.parse(e),0!==JSON.parse(e).length?(localStorage.setItem("auth",JSON.stringify(a.value[0])),console.log(a.value[0].role),"Admin"==a.value[0].role?d.push("/admin/dashboard"):d.push("/")):(r.value="Invalid credentials",i.value=!0),l.value=!1})).catch((e=>{l.value=!1,e.value=!0}))}const p=[e=>!!/^[a-z.-]+@[a-z.-]+\.[a-z]+$/i.test(e)||"Must be a valid e-mail."],f=[e=>!!e||"Password field is required."];return(e,a)=>((0,n.wg)(),(0,n.j4)(y.K,null,{default:(0,n.w5)((()=>[q,L,N,(0,n.Wm)(z.O,{"fast-fail":"",onSubmit:a[3]||(a[3]=(0,t.iM)((()=>{}),["prevent"]))},{default:(0,n.w5)((()=>[(0,n.Wm)(v._,{title:"Sign in",width:"69%",class:"my-6"},{default:(0,n.w5)((()=>[(0,n.Wm)(A._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(E.h,{rules:p,"error-messages":r.value,label:"Email",modelValue:s.email,"onUpdate:modelValue":a[0]||(a[0]=e=>s.email=e)},null,8,["error-messages","modelValue"]),(0,n.Wm)(E.h,{rules:f,label:"Password",modelValue:s.password,"onUpdate:modelValue":a[2]||(a[2]=e=>s.password=e),type:m.value?"text":"password"},{"append-inner":(0,n.w5)((()=>[s.password?((0,n.wg)(),(0,n.j4)(j.T,{key:0,icon:m.value?"mdi-eye-outline":"mdi-eye-off-outline",onClick:a[1]||(a[1]=e=>m.value=!m.value),variant:"text",size:"small"},null,8,["icon"])):(0,n.kq)("",!0)])),_:1},8,["modelValue","type"])])),_:1}),(0,n.Wm)(P.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(j.T,{onClick:c,type:"submit",loading:l.value},{default:(0,n.w5)((()=>[(0,n.Uk)("Sign in")])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1}))}};const I=F;var B=I,M=a(5702),J={__name:"Signup",setup(e){const l=(0,o.tv)(),a=(0,u.iH)(null),d=(0,u.iH)(!1),m=(0,u.iH)(!1),i=(0,u.qj)({first_name:null,last_name:null,department:null,email:null,password:null}),r=[e=>e?.length>2||"First name must be at least 3 characters."],s=[e=>e?.length>2||"Last name must be at least 3 characters."],c=[e=>!!/^[a-z.-]+@[a-z.-]+\.[a-z]+$/i.test(e)||"Must be a valid e-mail."],p=[e=>!!e||"Department field is required."],f=[e=>e?.length>2||"Password must be at least 3 characters."];function _(){if(null!=i.first_name&&null!=i.last_name&&null!=i.department&&null!=i.email&&null!=i.password){d.value=!0;let e=new FormData;e.append("method","signup"),e.append("first_name",i.first_name),e.append("last_name",i.last_name),e.append("email",i.email),e.append("department",i.department),e.append("password",i.password),fetch("http://localhost/account-management-system-master/backend/index.php",{method:"POST",body:e}).then((e=>e.text())).then((e=>{a.value=JSON.parse(e),localStorage.setItem("auth",JSON.stringify(a.value[0])),d.value=!1,l.push("/")})).catch((e=>{d.value=!1}))}}return(e,l)=>((0,n.wg)(),(0,n.j4)(y.K,{class:"justify-center d-flex"},{default:(0,n.w5)((()=>[(0,n.Wm)(v._,{title:"Sign up",width:"69%",class:"my-6"},{default:(0,n.w5)((()=>[(0,n.Wm)(z.O,{"fast-fail":"",onSubmit:l[6]||(l[6]=(0,t.iM)((()=>{}),["prevent"]))},{default:(0,n.w5)((()=>[(0,n.Wm)(A._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k.D,{cols:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(E.h,{label:"First name",rules:r,modelValue:i.first_name,"onUpdate:modelValue":l[0]||(l[0]=e=>i.first_name=e),name:"first_name"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(k.D,{cols:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(E.h,{label:"Last name",rules:s,modelValue:i.last_name,"onUpdate:modelValue":l[1]||(l[1]=e=>i.last_name=e),name:"last_name"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(E.h,{label:"Email",rules:c,modelValue:i.email,"onUpdate:modelValue":l[2]||(l[2]=e=>i.email=e),name:"email"},null,8,["modelValue"]),(0,n.Wm)(M.rL,{rules:p,items:["BSIT","BEED","BSED","BSHM"],modelValue:i.department,"onUpdate:modelValue":l[3]||(l[3]=e=>i.department=e),name:"department",label:"Department"},null,8,["modelValue"]),(0,n.Wm)(E.h,{rules:f,label:"Password",modelValue:i.password,"onUpdate:modelValue":l[5]||(l[5]=e=>i.password=e),name:"password",type:m.value?"text":"password"},{"append-inner":(0,n.w5)((()=>[i.password?((0,n.wg)(),(0,n.j4)(j.T,{key:0,icon:m.value?"mdi-eye-off-outline":"mdi-eye-outline",variant:"text",size:"small",onClick:l[4]||(l[4]=e=>m.value=!m.value)},null,8,["icon"])):(0,n.kq)("",!0)])),_:1},8,["modelValue","type"])])),_:1}),(0,n.Wm)(P.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(j.T,{type:"submit",onClick:_,loading:d.value},{default:(0,n.w5)((()=>[(0,n.Uk)("Sign up")])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1}))}};const Z=J;var K=Z,Y=a(4075),$=a(9234),R=a(9671),Q={__name:"Account",setup(e){const l=(0,u.iH)(!1),a=(0,u.iH)(null);a.value=JSON.parse(localStorage.getItem("auth"));const t=(0,u.iH)(!1),o=(0,u.iH)(!1),d=(0,u.iH)(!1),m=(0,u.qj)({id:a.value.id,first_name:a.value.first_name,last_name:a.value.last_name,department:a.value.department,email:a.value.email,role:a.value.role,password:a.value.password});function i(){l.value=!0;let e=new FormData;e.append("method","updateUser"),e.append("id",m.id),e.append("first_name",m.first_name),e.append("last_name",m.last_name),e.append("email",m.email),e.append("department",m.department),e.append("role",m.role),e.append("password",m.password),fetch("http://localhost/account-management-system-master/backend/index.php",{method:"POST",body:e}).then((e=>e.text())).then((e=>{a.value=JSON.parse(e),localStorage.setItem("auth",JSON.stringify(a.value[0])),l.value=!1,t.value=!1,d.value=!0})).catch((e=>{l.value=!1}))}return(e,a)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(y.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k.D,{cols:"12"})])),_:1}),(0,n.Wm)(b.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k.D,{cols:"12",class:"justify-center d-flex"},{default:(0,n.w5)((()=>[(0,n.Wm)(v._,{loading:l.value,width:"50%",elevation:t.value?"10":"2"},{default:(0,n.w5)((()=>[(0,n.Wm)(h.E,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,_.zw)(t.value?"Edit account":"Account")+" ",1),(0,n.Wm)(j.T,{"prepend-icon":t.value?"mdi-close":"mdi-square-edit-outline",onClick:a[0]||(a[0]=e=>t.value=!t.value),variant:"text",color:t.value?"red":"blue"},{default:(0,n.w5)((()=>[(0,n.Uk)("Edit")])),_:1},8,["prepend-icon","color"])])),_:1}),(0,n.Wm)(Y.J),(0,n.Wm)(W.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k.D,{cols:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(E.h,{label:"First name",readonly:!t.value,variant:t.value?"underlined":"plain",modelValue:m.first_name,"onUpdate:modelValue":a[1]||(a[1]=e=>m.first_name=e),name:"first_name"},null,8,["readonly","variant","modelValue"])])),_:1}),(0,n.Wm)(k.D,{cols:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(E.h,{label:"Last name",readonly:!t.value,modelValue:m.last_name,"onUpdate:modelValue":a[2]||(a[2]=e=>m.last_name=e),variant:t.value?"underlined":"plain",name:"last_name"},null,8,["readonly","modelValue","variant"])])),_:1})])),_:1}),(0,n.Wm)(E.h,{label:"Email",readonly:!t.value,modelValue:m.email,"onUpdate:modelValue":a[3]||(a[3]=e=>m.email=e),variant:t.value?"underlined":"plain",name:"email"},null,8,["readonly","modelValue","variant"]),(0,n.Wm)(M.rL,{active:"",readonly:!t.value,items:["BSIT","BEED","BSED","BSHM"],variant:t.value?"underlined":"plain",modelValue:m.department,"onUpdate:modelValue":a[4]||(a[4]=e=>m.department=e),name:"department",label:"Department"},null,8,["readonly","variant","modelValue"]),(0,n.Wm)(E.h,{readonly:!t.value,variant:t.value?"underlined":"plain",label:"Password",modelValue:m.password,"onUpdate:modelValue":a[6]||(a[6]=e=>m.password=e),type:o.value?"":"password",name:"password"},{"append-inner":(0,n.w5)((()=>[(0,n.Wm)(j.T,{size:"small",variant:"text",icon:o.value?"mdi-eye-outline":"mdi-eye-off-outline",onClick:a[5]||(a[5]=e=>o.value=!o.value)},null,8,["icon"])])),_:1},8,["readonly","variant","modelValue","type"])])),_:1}),t.value?((0,n.wg)(),(0,n.j4)(P.h,{key:0},{default:(0,n.w5)((()=>[(0,n.Wm)($.C),(0,n.Wm)(j.T,{color:"grey",onClick:a[7]||(a[7]=l=>e.editUserDialog=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1}),(0,n.Wm)(j.T,{color:"blue",onClick:a[8]||(a[8]=e=>i()),loading:l.value},{default:(0,n.w5)((()=>[(0,n.Uk)("Update")])),_:1},8,["loading"])])),_:1})):(0,n.kq)("",!0)])),_:1},8,["loading","elevation"])])),_:1})])),_:1})])),_:1}),(0,n.Wm)(R.v,{modelValue:d.value,"onUpdate:modelValue":a[9]||(a[9]=e=>d.value=e),color:"green",timeout:"2000",location:"bottom left"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Account updated successfully. ")])),_:1},8,["modelValue"])],64))}};const G=Q;var X=G,ee=a(6281),le=a(1556),ae=a(4454);const te={key:0},ne={key:1};var ue={__name:"StudentLayout",setup(e){const l=(0,u.iH)(null);function a(){localStorage.removeItem("auth"),l.value=null}return l.value=JSON.parse(localStorage.getItem("auth")),(e,t)=>{const u=(0,n.up)("router-link");return(0,n.wg)(),(0,n.j4)(ae.s,null,{default:(0,n.w5)((()=>[(0,n.Wm)(ee.L,{color:"teal-darken-4",image:"https://picsum.photos/1920/1080?random"},{image:(0,n.w5)((()=>[(0,n.Wm)(U.f,{gradient:"to top right, rgba(19,84,122,.8), rgba(128,208,199,.8)"})])),default:(0,n.w5)((()=>[(0,n.Wm)(le.o,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Lorem ipsum")])),_:1}),(0,n.Wm)($.C),l.value?((0,n.wg)(),(0,n.iD)("div",te,[(0,n.Wm)(u,{to:"/"},{default:(0,n.w5)((()=>[(0,n.Wm)(j.T,{color:"white"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Announcements ")])),_:1})])),_:1}),(0,n.Wm)(u,{to:"/account"},{default:(0,n.w5)((()=>[(0,n.Wm)(j.T,{color:"white"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Account ")])),_:1})])),_:1}),(0,n.Wm)(u,{to:"/sign-in"},{default:(0,n.w5)((()=>[(0,n.Wm)(j.T,{color:"red",onClick:a},{default:(0,n.w5)((()=>[(0,n.Uk)(" Logout ")])),_:1})])),_:1})])):((0,n.wg)(),(0,n.iD)("div",ne,[(0,n.Wm)(u,{to:"/sign-in"},{default:(0,n.w5)((()=>[(0,n.Wm)(j.T,{color:"white"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Sign in ")])),_:1})])),_:1}),(0,n.Wm)(u,{to:"/sign-up"},{default:(0,n.w5)((()=>[(0,n.Wm)(j.T,{color:"white"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Sign up ")])),_:1})])),_:1})]))])),_:1}),(0,n.Wm)(m.O,{class:"bg-grey-lighten-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(y.K,null,{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"default")])),_:3})])),_:3})])),_:3})}}},oe=a(89);const de=(0,oe.Z)(ue,[["__scopeId","data-v-7c954652"]]);var me=de;function ie(e,l){const a=(0,n.up)("router-link");return(0,n.wg)(),(0,n.j4)(ae.s,null,{default:(0,n.w5)((()=>[(0,n.Wm)(ee.L,{color:"teal-darken-4",image:"https://picsum.photos/1920/1080?random"},{image:(0,n.w5)((()=>[(0,n.Wm)(U.f,{gradient:"to top right, rgba(19,84,122,.8), rgba(128,208,199,.8)"})])),default:(0,n.w5)((()=>[(0,n.Wm)(le.o,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Lorem ipsum")])),_:1}),(0,n.Wm)($.C),(0,n.Wm)(a,{to:"/sign-in"},{default:(0,n.w5)((()=>[(0,n.Wm)(j.T,{color:"white"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Sign in ")])),_:1})])),_:1}),(0,n.Wm)(a,{to:"/sign-up"},{default:(0,n.w5)((()=>[(0,n.Wm)(j.T,{color:"white"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Sign up ")])),_:1})])),_:1})])),_:1}),(0,n.Wm)(m.O,{class:"bg-grey-lighten-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(y.K,null,{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3})])),_:3})}const re={},se=(0,oe.Z)(re,[["render",ie],["__scopeId","data-v-6ca5ae50"]]);var ce=se,pe=a(3601),fe=a(4842),_e={__name:"AdminLayout",setup(e){const l=(0,u.iH)(!1),a=(0,u.iH)(!1),t=(0,o.tv)(),d=(0,u.qj)({title:null,description:null,created_at:new Date});function i(){localStorage.removeItem("auth"),t.push("/sign-up")}function r(){a.value=!0;let e=new FormData;e.append("method","storeAnnouncement"),e.append("title",d.title),e.append("description",d.description),e.append("created_at",d.created_at),fetch("http://localhost/account-management-system-master/backend/index.php",{method:"POST",body:e}).then((e=>e.text())).then((e=>{console.log(e),l.value=!1,a.value=!1})).catch((e=>{l.value=!1,a.value=!1}))}const s=e=>!!e||"Required.",c=e=>e.length<=70||"Max 70 characters";return(e,t)=>{const u=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(ae.s,null,{default:(0,n.w5)((()=>[(0,n.Wm)(ee.L,{color:"teal-darken-4",image:"https://picsum.photos/1920/1080?random"},{image:(0,n.w5)((()=>[(0,n.Wm)(U.f,{gradient:"to top right, rgba(19,84,122,.8), rgba(128,208,199,.8)"})])),default:(0,n.w5)((()=>[(0,n.Wm)(le.o,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Lorem ipsum")])),_:1}),(0,n.Wm)($.C),(0,n.Wm)(j.T,{onClick:t[0]||(t[0]=e=>l.value=!0),"prepend-icon":"mdi-plus"},{default:(0,n.w5)((()=>[(0,n.Uk)(" New announcement ")])),_:1}),(0,n.Wm)(u,{to:"/admin/dashboard"},{default:(0,n.w5)((()=>[(0,n.Wm)(j.T,{color:"white","prepend-icon":"mdi-view-dashboard-outline"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Dashboard ")])),_:1})])),_:1}),(0,n.Wm)(u,{to:"/admin/manage-users"},{default:(0,n.w5)((()=>[(0,n.Wm)(j.T,{color:"white","prepend-icon":"mdi-account-supervisor-outline"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Manage users ")])),_:1})])),_:1}),(0,n.Wm)(u,{to:"#"},{default:(0,n.w5)((()=>[(0,n.Wm)(j.T,{color:"red","prepend-icon":"mdi-logout",onClick:t[1]||(t[1]=e=>i())},{default:(0,n.w5)((()=>[(0,n.Uk)(" Logout ")])),_:1})])),_:1})])),_:1}),(0,n.Wm)(m.O,{class:"bg-grey-lighten-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(y.K,null,{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"default")])),_:3})])),_:3})])),_:3}),(0,n.Wm)(pe.B,{modelValue:l.value,"onUpdate:modelValue":t[6]||(t[6]=e=>l.value=e),width:"80%"},{default:(0,n.w5)((()=>[(0,n.Wm)(v._,{title:"New announcement"},{default:(0,n.w5)((()=>[(0,n.Wm)(W.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(E.h,{label:"Title",modelValue:d.title,"onUpdate:modelValue":t[2]||(t[2]=e=>d.title=e)},null,8,["modelValue"]),(0,n.Wm)(fe.z,{rules:[s,c],counter:"70",label:"Description",modelValue:d.description,"onUpdate:modelValue":t[3]||(t[3]=e=>d.description=e)},null,8,["rules","modelValue"])])),_:1}),(0,n.Wm)(P.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)($.C),(0,n.Wm)(j.T,{color:"grey",onClick:t[4]||(t[4]=e=>l.value=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1}),(0,n.Wm)(j.T,{color:"green",onClick:t[5]||(t[5]=e=>r()),loading:a.value},{default:(0,n.w5)((()=>[(0,n.Uk)("Add")])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};const we=(0,oe.Z)(_e,[["__scopeId","data-v-5882420c"]]);var ve=we,he={__name:"AdminDashboard",setup(e){const l=(0,u.iH)(null),a=(0,u.iH)(null),t=(0,u.iH)(!1),o=(0,u.iH)(!1),d=(0,u.iH)(!1),m=(0,u.qj)({id:null,title:null,description:null}),i=(0,u.qj)({id:null,title:null});function r(e){m.id=e.id,m.title=e.title,m.description=e.description,t.value=!0}function s(e){i.id=e.id,i.title=e.title,o.value=!0}function c(){d.value=!0;let e=new FormData;e.append("method","updateAnnouncement"),e.append("id",m.id),e.append("title",m.title),e.append("description",m.description),fetch("http://localhost/account-management-system-master/backend/index.php",{method:"POST",body:e}).then((e=>e.text())).then((e=>{a.value=JSON.parse(e),console.log(e),t.value=!1,d.value=!1})).catch((e=>{t.value=!1,d.value=!1}))}function p(){d.value=!0;let e=new FormData;e.append("method","deleteAnnouncement"),e.append("id",i.id),fetch("http://localhost/account-management-system-master/backend/index.php",{method:"POST",body:e}).then((e=>e.text())).then((e=>{a.value=JSON.parse(e),o.value=!1,d.value=!1})).catch((e=>{console.log(e),o.value=!1,d.value=!1}))}return(0,n.bv)((()=>{let e=new FormData;e.append("method","getAllAnnouncements"),fetch("http://localhost/account-management-system-master/backend/index.php",{method:"POST",body:e}).then((e=>(console.log(e),e.text()))).then((e=>{console.log(e),a.value=JSON.parse(e)}))})),(e,f)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(v._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(S.d,{modelValue:l.value,"onUpdate:modelValue":f[0]||(f[0]=e=>l.value=e),color:"deep-purple-accent-4","align-tabs":"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(D.L,{value:1},{default:(0,n.w5)((()=>[(0,n.Uk)("Announcements")])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(O.Oo,{modelValue:l.value,"onUpdate:modelValue":f[1]||(f[1]=e=>l.value=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(T.H,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y.K,{fluid:""},{default:(0,n.w5)((()=>[(0,n.Wm)(b.o,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.value,((e,l)=>((0,n.wg)(),(0,n.j4)(k.D,{key:e.id,cols:"12",md:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(v._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(U.f,{src:"https://picsum.photos/500/300?image="+(l*(l+2)*5+10),"lazy-src":"https://picsum.photos/10/6?image="+(l*(l+2)*5+10),cover:""},null,8,["src","lazy-src"]),(0,n.Wm)(h.E,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,_.zw)(e.title),1)])),_:2},1024),(0,n.Wm)(g.Q,null,{default:(0,n.w5)((()=>[(0,n.Wm)(V.t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-circle-medium")])),_:1}),(0,n.Uk)(" "+(0,_.zw)((0,u.SU)(w.Z)(new Date(e.created_at),"PPPP")),1)])),_:2},1024),(0,n.Wm)(W.Z,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,_.zw)(e.description),1)])),_:2},1024),(0,n.Wm)(P.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)($.C),(0,n.Wm)(j.T,{color:"blue","prepend-icon":"mdi-square-edit-outline",onClick:l=>r(e)},{default:(0,n.w5)((()=>[(0,n.Uk)("Edit")])),_:2},1032,["onClick"]),(0,n.Wm)(j.T,{"prepend-icon":"mdi-delete-empty-outline",color:"red",onClick:l=>s(e)},{default:(0,n.w5)((()=>[(0,n.Uk)("Delete")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(pe.B,{modelValue:t.value,"onUpdate:modelValue":f[6]||(f[6]=e=>t.value=e),width:"80%"},{default:(0,n.w5)((()=>[(0,n.Wm)(v._,{title:"Edit announcement"},{default:(0,n.w5)((()=>[(0,n.Wm)(W.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(E.h,{label:"Title",modelValue:m.title,"onUpdate:modelValue":f[2]||(f[2]=e=>m.title=e)},null,8,["modelValue"]),(0,n.Wm)(fe.z,{rules:[e.required,e.counter],counter:"70",label:"Description",modelValue:m.description,"onUpdate:modelValue":f[3]||(f[3]=e=>m.description=e)},null,8,["rules","modelValue"])])),_:1}),(0,n.Wm)(P.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)($.C),(0,n.Wm)(j.T,{color:"grey",onClick:f[4]||(f[4]=e=>t.value=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1}),(0,n.Wm)(j.T,{color:"green",onClick:f[5]||(f[5]=e=>c()),loading:d.value},{default:(0,n.w5)((()=>[(0,n.Uk)("Update")])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(pe.B,{modelValue:o.value,"onUpdate:modelValue":f[9]||(f[9]=e=>o.value=e),width:"80%"},{default:(0,n.w5)((()=>[(0,n.Wm)(v._,{title:"Delete announcement"},{default:(0,n.w5)((()=>[(0,n.Wm)(W.Z,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Are you sure you want to delete "),(0,n._)("strong",null,(0,_.zw)(i.title),1),(0,n.Uk)("? ")])),_:1}),(0,n.Wm)(P.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)($.C),(0,n.Wm)(j.T,{color:"grey",onClick:f[7]||(f[7]=e=>o.value=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1}),(0,n.Wm)(j.T,{color:"red",onClick:f[8]||(f[8]=e=>p()),loading:d.value},{default:(0,n.w5)((()=>[(0,n.Uk)("Delete")])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64))}};const ge=he;var We=ge,ye=a(1231);const be=(0,n._)("p",{class:"text-h3"},"Manage users",-1),ke=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{class:"text-left"}," Id "),(0,n._)("th",{class:"text-left"}," First name "),(0,n._)("th",{class:"text-left"}," Last name "),(0,n._)("th",{class:"text-left"}," Email "),(0,n._)("th",{class:"text-left"}," Department "),(0,n._)("th",{class:"text-left"}," Role "),(0,n._)("th",{class:"text-left"}," Actions ")])],-1);var Ve={__name:"ManageUsers",setup(e){const l=(0,u.iH)(null),a=(0,u.iH)(!1),t=(0,u.iH)(!1),o=(0,u.iH)(!1),d=(0,u.iH)(!1),m=(0,u.iH)(""),i=(0,u.iH)(!1),r=(0,u.qj)({id:null,first_name:null,last_name:null,department:null,email:null,password:null,role:null}),s=(0,u.qj)({id:null,first_name:null,last_name:null});function c(e){r.id=e.id,r.first_name=e.first_name,r.last_name=e.last_name,r.department=e.department,r.email=e.email,r.role=e.role,r.password=e.password,t.value=!0}function p(e){s.id=e.id,s.first_name=e.first_name,s.last_name=e.last_name,a.value=!0}function f(){let e=new FormData;e.append("method","getAllStudents"),fetch("http://localhost/account-management-system-master/backend/index.php",{method:"POST",body:e}).then((e=>e.text())).then((e=>{l.value=JSON.parse(e)}))}function w(){o.value=!0;let e=new FormData;e.append("method","updateUser"),e.append("id",r.id),e.append("first_name",r.first_name),e.append("last_name",r.last_name),e.append("email",r.email),e.append("department",r.department),e.append("role",r.role),e.append("password",r.password),fetch("http://localhost/account-management-system-master/backend/index.php",{method:"POST",body:e}).then((()=>{f(),t.value=!1,o.value=!1,m.value="User updated successfully",i.value=!0})).catch((e=>{t.value=!1,o.value=!1}))}function h(){o.value=!0;let e=new FormData;e.append("method","deleteUser"),e.append("id",s.id),fetch("http://localhost/account-management-system-master/backend/index.php",{method:"POST",body:e}).then((()=>{f(),a.value=!1,o.value=!1,m.value="User deleted successfully",i.value=!0})).catch((e=>{a.value=!1,o.value=!1}))}return(0,n.bv)((()=>{f()})),(e,u)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[be,(0,n.Wm)(ye.Y,null,{default:(0,n.w5)((()=>[ke,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.value,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[(0,n._)("td",null,(0,_.zw)(e.id),1),(0,n._)("td",null,(0,_.zw)(e.first_name),1),(0,n._)("td",null,(0,_.zw)(e.last_name),1),(0,n._)("td",null,(0,_.zw)(e.email),1),(0,n._)("td",null,(0,_.zw)(e.department),1),(0,n._)("td",null,(0,_.zw)(e.role),1),(0,n._)("td",null,[(0,n.Wm)(j.T,{class:"me-3",onClick:l=>c(e),color:"blue","prepend-icon":"mdi-square-edit-outline"},{default:(0,n.w5)((()=>[(0,n.Uk)("Edit")])),_:2},1032,["onClick"]),(0,n.Wm)(j.T,{color:"red",onClick:l=>p(e),"prepend-icon":"mdi-delete-empty-outline"},{default:(0,n.w5)((()=>[(0,n.Uk)("Delete")])),_:2},1032,["onClick"])])])))),128))])])),_:1}),(0,n.Wm)(pe.B,{modelValue:t.value,"onUpdate:modelValue":u[9]||(u[9]=e=>t.value=e),width:"80%"},{default:(0,n.w5)((()=>[(0,n.Wm)(v._,{title:"Edit user"},{default:(0,n.w5)((()=>[(0,n.Wm)(W.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k.D,{cols:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(E.h,{label:"First name",modelValue:r.first_name,"onUpdate:modelValue":u[0]||(u[0]=e=>r.first_name=e),name:"first_name"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(k.D,{cols:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(E.h,{label:"Last name",modelValue:r.last_name,"onUpdate:modelValue":u[1]||(u[1]=e=>r.last_name=e),name:"last_name"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(E.h,{label:"Email",modelValue:r.email,"onUpdate:modelValue":u[2]||(u[2]=e=>r.email=e),name:"email"},null,8,["modelValue"]),(0,n.Wm)(b.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k.D,{cols:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(M.rL,{items:["BSIT","BEED","BSED","BSHM"],modelValue:r.department,"onUpdate:modelValue":u[3]||(u[3]=e=>r.department=e),name:"department",label:"Department"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(k.D,{cols:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(M.rL,{items:["Student","Admin"],modelValue:r.role,"onUpdate:modelValue":u[4]||(u[4]=e=>r.role=e),name:"role",label:"Role"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(E.h,{label:"Password",modelValue:r.password,"onUpdate:modelValue":u[6]||(u[6]=e=>r.password=e),type:d.value?"":"password",name:"password"},{"append-inner":(0,n.w5)((()=>[(0,n.Wm)(j.T,{size:"small",variant:"text",icon:d.value?"mdi-eye-outline":"mdi-eye-off-outline",onClick:u[5]||(u[5]=e=>d.value=!d.value)},null,8,["icon"])])),_:1},8,["modelValue","type"])])),_:1}),(0,n.Wm)(P.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)($.C),(0,n.Wm)(j.T,{color:"grey",onClick:u[7]||(u[7]=e=>t.value=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1}),(0,n.Wm)(j.T,{color:"blue",onClick:u[8]||(u[8]=e=>w()),loading:o.value},{default:(0,n.w5)((()=>[(0,n.Uk)("Update")])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(pe.B,{modelValue:a.value,"onUpdate:modelValue":u[12]||(u[12]=e=>a.value=e),width:"auto"},{default:(0,n.w5)((()=>[(0,n.Wm)(v._,{title:"Delete user"},{default:(0,n.w5)((()=>[(0,n.Wm)(W.Z,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Are you sure you want to delete "),(0,n._)("strong",null,(0,_.zw)(s.first_name)+" "+(0,_.zw)(s.last_name),1),(0,n.Uk)("? ")])),_:1}),(0,n.Wm)(P.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)($.C),(0,n.Wm)(j.T,{color:"grey",onClick:u[10]||(u[10]=e=>a.value=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1}),(0,n.Wm)(j.T,{color:"red",onClick:u[11]||(u[11]=e=>h())},{default:(0,n.w5)((()=>[(0,n.Uk)("Delete")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(R.v,{modelValue:i.value,"onUpdate:modelValue":u[13]||(u[13]=e=>i.value=e),color:"green",timeout:"2000",location:"bottom left"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,_.zw)(m.value),1)])),_:1},8,["modelValue"])],64))}};const Ue=Ve;var Se=Ue;const De=(0,u.iH)(null);function Oe(){return console.log("From router: "),console.log(De.value),De.value=JSON.parse(localStorage.getItem("auth")),!!De.value}const Te=(0,o.p7)({history:(0,o.PO)("/"),routes:[{path:"/",name:"Announcements",meta:{layout:me,requiresAuth:!0},component:H},{path:"/sign-in",name:"Signin",meta:{layout:ce},component:B},{path:"/sign-up",name:"Signup",meta:{layout:ce},component:K},{path:"/account",name:"Account",meta:{layout:me,requiresAuth:!0},component:X},{path:"/admin/dashboard",name:"AdminDashboard",meta:{layout:ve,requiresAuth:!0},component:We},{path:"/admin/manage-users",name:"ManageUsers",meta:{layout:ve,requiresAuth:!0},component:Se}]});Te.beforeEach(((e,l,a)=>{e.matched.some((e=>e.meta.requiresAuth))?Oe()?a():a({name:"Signin"}):a()}));var Ce=Te;f(),(0,t.ri)(s).use(p).use(Ce).mount("#app")}},l={};function a(t){var n=l[t];if(void 0!==n)return n.exports;var u=l[t]={exports:{}};return e[t].call(u.exports,u,u.exports,a),u.exports}a.m=e,function(){var e=[];a.O=function(l,t,n,u){if(!t){var o=1/0;for(r=0;r<e.length;r++){t=e[r][0],n=e[r][1],u=e[r][2];for(var d=!0,m=0;m<t.length;m++)(!1&u||o>=u)&&Object.keys(a.O).every((function(e){return a.O[e](t[m])}))?t.splice(m--,1):(d=!1,u<o&&(o=u));if(d){e.splice(r--,1);var i=n();void 0!==i&&(l=i)}}return l}u=u||0;for(var r=e.length;r>0&&e[r-1][2]>u;r--)e[r]=e[r-1];e[r]=[t,n,u]}}(),function(){a.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(l,{a:l}),l}}(),function(){var e,l=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(t,n){if(1&n&&(t=this(t)),8&n)return t;if("object"===typeof t&&t){if(4&n&&t.__esModule)return t;if(16&n&&"function"===typeof t.then)return t}var u=Object.create(null);a.r(u);var o={};e=e||[null,l({}),l([]),l(l)];for(var d=2&n&&t;"object"==typeof d&&!~e.indexOf(d);d=l(d))Object.getOwnPropertyNames(d).forEach((function(e){o[e]=function(){return t[e]}}));return o["default"]=function(){return t},a.d(u,o),u}}(),function(){a.d=function(e,l){for(var t in l)a.o(l,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:l[t]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(l,t){return a.f[t](e,l),l}),[]))}}(),function(){a.u=function(e){return"js/webfontloader.fe11ed94.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){var e={},l="account-management-system:";a.l=function(t,n,u,o){if(e[t])e[t].push(n);else{var d,m;if(void 0!==u)for(var i=document.getElementsByTagName("script"),r=0;r<i.length;r++){var s=i[r];if(s.getAttribute("src")==t||s.getAttribute("data-webpack")==l+u){d=s;break}}d||(m=!0,d=document.createElement("script"),d.charset="utf-8",d.timeout=120,a.nc&&d.setAttribute("nonce",a.nc),d.setAttribute("data-webpack",l+u),d.src=t),e[t]=[n];var c=function(l,a){d.onerror=d.onload=null,clearTimeout(p);var n=e[t];if(delete e[t],d.parentNode&&d.parentNode.removeChild(d),n&&n.forEach((function(e){return e(a)})),l)return l(a)},p=setTimeout(c.bind(null,void 0,{type:"timeout",target:d}),12e4);d.onerror=c.bind(null,d.onerror),d.onload=c.bind(null,d.onload),m&&document.head.appendChild(d)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.f.j=function(l,t){var n=a.o(e,l)?e[l]:void 0;if(0!==n)if(n)t.push(n[2]);else{var u=new Promise((function(a,t){n=e[l]=[a,t]}));t.push(n[2]=u);var o=a.p+a.u(l),d=new Error,m=function(t){if(a.o(e,l)&&(n=e[l],0!==n&&(e[l]=void 0),n)){var u=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+l+" failed.\n("+u+": "+o+")",d.name="ChunkLoadError",d.type=u,d.request=o,n[1](d)}};a.l(o,m,"chunk-"+l,l)}},a.O.j=function(l){return 0===e[l]};var l=function(l,t){var n,u,o=t[0],d=t[1],m=t[2],i=0;if(o.some((function(l){return 0!==e[l]}))){for(n in d)a.o(d,n)&&(a.m[n]=d[n]);if(m)var r=m(a)}for(l&&l(t);i<o.length;i++)u=o[i],a.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return a.O(r)},t=self["webpackChunkaccount_management_system"]=self["webpackChunkaccount_management_system"]||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))}();var t=a.O(void 0,[998],(function(){return a(9506)}));t=a.O(t)})();
//# sourceMappingURL=app.41c5254a.js.map